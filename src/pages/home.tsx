import { FeedModel } from '@/model/FeedModel';
import { UserModel } from '@/model/UserModel';
import { useRouter } from 'next/router';
import Layout from '@/component/Layout';
import React, { useEffect, useState } from 'react'

function Home() {
    const [userdata, setUserdata] = useState({} as UserModel)
    const [feed, setFeed] = useState([] as FeedModel[])
    const router = useRouter();

    useEffect(() => {
        fetch('/api/auth')
            .then(res => {
                if (!res.ok) throw new Error()
                return res.json()
            })
            .then(res => setUserdata(res.user))
            .catch(() => router.push("/login"));
        fetch('/api/feed')
            .then(res => {
                if (!res.ok) throw new Error()
                return res.json()
            })
            .then(res => setFeed(res.feed))
            .catch(() => router.push("/login"));
    }, []);

    return (
        <Layout>
            <p>Helló {userdata.name}</p>
            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Nobis facere provident tenetur reiciendis unde labore iste voluptates ab soluta similique alias harum eligendi earum quas tempora numquam, possimus iusto ea aliquid cumque modi nihil. Ipsam eos modi tempora minima? Autem libero, earum fugiat dolor sint iusto blanditiis! Illum, labore est! Officiis incidunt, dolorem amet corporis, fuga veritatis accusantium neque, itaque dicta culpa illum laboriosam? Earum ab eligendi voluptatibus ipsum nesciunt deleniti error temporibus itaque est. Cum nesciunt tempora eligendi accusantium repellat, quas debitis voluptates voluptatum nostrum sapiente velit atque dolor officia id, odio molestias explicabo? Voluptatem deleniti officiis inventore ipsum nemo, in soluta quasi iusto cumque deserunt quidem voluptates est labore nostrum error repudiandae unde, quod velit aliquid. Impedit libero facere nemo recusandae quas ut enim vero ipsa, quasi cumque odio illo laboriosam doloremque a amet in explicabo fugiat consequuntur excepturi at tenetur numquam ipsum? Ullam, reprehenderit rem officia molestias commodi distinctio delectus facilis necessitatibus quos! Dolorem fuga, rem iusto quaerat vitae corrupti accusantium quo, tempore error eaque modi fugit suscipit culpa eos explicabo consequuntur hic dolore veritatis officiis autem fugiat! Fugiat sint earum eaque soluta, facilis ex blanditiis totam laborum illo tenetur distinctio vero porro officia aperiam quisquam saepe odio iure aliquam voluptate, aspernatur delectus sunt necessitatibus omnis! Neque possimus quod eaque mollitia obcaecati cupiditate expedita repellendus fugiat aliquid a ipsam et nobis alias earum ratione sunt magni maiores nam eligendi debitis, iusto incidunt! Quaerat, aspernatur dolores ut rem quo sit vitae accusamus, aliquid itaque voluptatum, iusto ea? A numquam debitis aspernatur totam, fugiat excepturi velit eaque expedita. Laborum exercitationem beatae sequi error minus fugiat suscipit illo, nulla tempora, recusandae magnam enim, itaque consequatur hic voluptas eum rerum iusto deleniti earum impedit vitae minima provident quam? Nesciunt labore quos provident quia nemo impedit, aliquid quod? Doloribus libero voluptas officia quisquam laborum velit. Aperiam soluta ullam quasi nesciunt magnam exercitationem ipsa quidem quod recusandae non fugit, cum rem saepe esse, autem alias qui harum ad! Atque possimus temporibus minima sed hic nam repellendus vitae et accusamus recusandae? Unde rem voluptatem iure corporis esse architecto provident, asperiores expedita minus sed tempore mollitia, ipsam quisquam temporibus nihil consequuntur repellat ipsum, doloribus ullam quam voluptate eligendi numquam tenetur. Natus optio odio facilis expedita officiis culpa totam a sed pariatur aperiam, ducimus corrupti sequi labore! Expedita modi harum dolores! Ad temporibus fugiat nihil ullam cupiditate repellat consequatur alias, nobis nesciunt! Facilis quo praesentium itaque consequuntur esse pariatur placeat saepe incidunt, et expedita autem facere eum inventore aperiam obcaecati tempora quasi quod assumenda beatae ipsam repellat dolor quas ab laborum. Alias, quaerat ad, enim cupiditate reprehenderit sequi temporibus natus eos aliquid quam eum ea! Amet mollitia, eos corrupti modi sunt quasi odio! Explicabo dolorum dolorem exercitationem recusandae, eveniet consequatur, ipsum asperiores id aliquid, autem totam fugit excepturi magni praesentium expedita vero natus sequi esse quidem dolores saepe iste quibusdam illo? Quas veritatis quod reprehenderit velit expedita obcaecati numquam necessitatibus repellat illo accusamus sapiente, itaque tempore laborum minima totam iure ducimus vero molestiae enim, iste aut laudantium vitae eveniet reiciendis. Voluptates, quaerat quibusdam atque minima, libero, ad in dolorum repellat sint suscipit possimus illo ratione placeat tenetur? Similique, eos reprehenderit. Blanditiis deserunt facilis commodi quidem autem eligendi ab, inventore atque obcaecati nobis repudiandae fuga unde quasi reprehenderit, vel adipisci quaerat praesentium nostrum doloremque. Dignissimos placeat reiciendis eligendi asperiores inventore, accusamus aliquid alias! Cum veniam voluptatem, labore, autem rem, voluptatum doloribus perferendis accusantium et saepe eum libero non quia esse tempora. Aspernatur possimus consectetur hic ullam. Autem cumque quos dolorem ea adipisci, inventore odio voluptatem commodi incidunt sapiente corrupti earum nobis sunt unde voluptate reprehenderit sed sit perferendis? A doloremque labore corrupti mollitia, ipsam accusamus iste non maxime odit quas ab, illo nobis voluptas? Error exercitationem eligendi, nam laborum eius quisquam iste soluta? Asperiores recusandae, magni fuga vero ipsa eos quisquam aliquam reiciendis ullam harum provident hic rerum sed! Voluptatem, pariatur aliquid alias delectus placeat nostrum cumque magnam consequuntur doloribus, vel dicta inventore modi voluptas praesentium? Voluptates fugit perferendis tempora officia vitae suscipit, quam eveniet, iusto sunt dolorem accusantium amet enim sed aliquid voluptate ducimus? Accusantium aperiam optio numquam rem aut repellendus voluptates eaque quasi reiciendis alias explicabo ullam hic unde, possimus voluptatibus quae vel, aspernatur, soluta harum totam sunt similique. Commodi culpa natus, exercitationem quidem magni officiis aliquid soluta ipsam? Soluta beatae corrupti debitis rerum, impedit laborum voluptate eaque quam eum expedita qui asperiores libero deleniti molestias rem quo facere doloribus tenetur odio provident quas voluptatem eos dolorum. Quae maiores nisi, laboriosam quos nesciunt iusto quis enim recusandae quod. Laboriosam, magnam libero ullam ea facilis esse minus eius ipsa vitae ex. Totam veritatis nam voluptates distinctio ex commodi fugiat aut animi vitae deserunt id temporibus vero libero ea, quisquam sit tempora expedita qui debitis? Repellat iure numquam voluptates nesciunt beatae fuga, quod voluptas ullam exercitationem dignissimos reprehenderit quibusdam ratione deleniti voluptatum nemo soluta quae, nobis dolorum. Ratione magni, laudantium consectetur quaerat officia corrupti sit dolore earum impedit provident vitae explicabo error beatae, mollitia repellendus aspernatur autem est. Magnam incidunt minima deserunt in rem ut quod nemo! Repudiandae recusandae illo officia nesciunt numquam modi vero quibusdam voluptatem, soluta rem eum obcaecati distinctio excepturi. Distinctio aperiam quibusdam vero laudantium facilis eveniet enim asperiores? Repellendus culpa quam aliquam minima saepe dolor nisi maiores dolores. Ad explicabo magnam illum facilis cupiditate amet ipsa beatae perferendis placeat dignissimos tenetur quod iste earum, officia ab rerum dicta deleniti rem officiis? Doloremque odio, ea aspernatur sapiente quas, praesentium quia ad vitae nesciunt adipisci hic cupiditate aperiam deserunt animi minima eligendi officia! Rem expedita iusto consequuntur asperiores neque? Est error eius, sint inventore quae doloribus veniam perspiciatis iure velit dolorem saepe, adipisci sequi ullam quod nihil voluptatem eveniet. Distinctio autem doloremque iste. A possimus mollitia perspiciatis at necessitatibus culpa incidunt recusandae, expedita cumque, quisquam iste maxime tempore, quaerat quasi eligendi in. Eos impedit eveniet adipisci fugit magni corporis ullam fuga distinctio. Repellat, dolorem! Perspiciatis maiores nobis praesentium laudantium cupiditate commodi aliquam, placeat dolores neque, doloribus nulla aperiam illo sapiente suscipit aliquid porro ipsum veniam?
            Lorem ipsum dolor sit, amet consectetur adipisicing elit. Nobis facere provident tenetur reiciendis unde labore iste voluptates ab soluta similique alias harum eligendi earum quas tempora numquam, possimus iusto ea aliquid cumque modi nihil. Ipsam eos modi tempora minima? Autem libero, earum fugiat dolor sint iusto blanditiis! Illum, labore est! Officiis incidunt, dolorem amet corporis, fuga veritatis accusantium neque, itaque dicta culpa illum laboriosam? Earum ab eligendi voluptatibus ipsum nesciunt deleniti error temporibus itaque est. Cum nesciunt tempora eligendi accusantium repellat, quas debitis voluptates voluptatum nostrum sapiente velit atque dolor officia id, odio molestias explicabo? Voluptatem deleniti officiis inventore ipsum nemo, in soluta quasi iusto cumque deserunt quidem voluptates est labore nostrum error repudiandae unde, quod velit aliquid. Impedit libero facere nemo recusandae quas ut enim vero ipsa, quasi cumque odio illo laboriosam doloremque a amet in explicabo fugiat consequuntur excepturi at tenetur numquam ipsum? Ullam, reprehenderit rem officia molestias commodi distinctio delectus facilis necessitatibus quos! Dolorem fuga, rem iusto quaerat vitae corrupti accusantium quo, tempore error eaque modi fugit suscipit culpa eos explicabo consequuntur hic dolore veritatis officiis autem fugiat! Fugiat sint earum eaque soluta, facilis ex blanditiis totam laborum illo tenetur distinctio vero porro officia aperiam quisquam saepe odio iure aliquam voluptate, aspernatur delectus sunt necessitatibus omnis! Neque possimus quod eaque mollitia obcaecati cupiditate expedita repellendus fugiat aliquid a ipsam et nobis alias earum ratione sunt magni maiores nam eligendi debitis, iusto incidunt! Quaerat, aspernatur dolores ut rem quo sit vitae accusamus, aliquid itaque voluptatum, iusto ea? A numquam debitis aspernatur totam, fugiat excepturi velit eaque expedita. Laborum exercitationem beatae sequi error minus fugiat suscipit illo, nulla tempora, recusandae magnam enim, itaque consequatur hic voluptas eum rerum iusto deleniti earum impedit vitae minima provident quam? Nesciunt labore quos provident quia nemo impedit, aliquid quod? Doloribus libero voluptas officia quisquam laborum velit. Aperiam soluta ullam quasi nesciunt magnam exercitationem ipsa quidem quod recusandae non fugit, cum rem saepe esse, autem alias qui harum ad! Atque possimus temporibus minima sed hic nam repellendus vitae et accusamus recusandae? Unde rem voluptatem iure corporis esse architecto provident, asperiores expedita minus sed tempore mollitia, ipsam quisquam temporibus nihil consequuntur repellat ipsum, doloribus ullam quam voluptate eligendi numquam tenetur. Natus optio odio facilis expedita officiis culpa totam a sed pariatur aperiam, ducimus corrupti sequi labore! Expedita modi harum dolores! Ad temporibus fugiat nihil ullam cupiditate repellat consequatur alias, nobis nesciunt! Facilis quo praesentium itaque consequuntur esse pariatur placeat saepe incidunt, et expedita autem facere eum inventore aperiam obcaecati tempora quasi quod assumenda beatae ipsam repellat dolor quas ab laborum. Alias, quaerat ad, enim cupiditate reprehenderit sequi temporibus natus eos aliquid quam eum ea! Amet mollitia, eos corrupti modi sunt quasi odio! Explicabo dolorum dolorem exercitationem recusandae, eveniet consequatur, ipsum asperiores id aliquid, autem totam fugit excepturi magni praesentium expedita vero natus sequi esse quidem dolores saepe iste quibusdam illo? Quas veritatis quod reprehenderit velit expedita obcaecati numquam necessitatibus repellat illo accusamus sapiente, itaque tempore laborum minima totam iure ducimus vero molestiae enim, iste aut laudantium vitae eveniet reiciendis. Voluptates, quaerat quibusdam atque minima, libero, ad in dolorum repellat sint suscipit possimus illo ratione placeat tenetur? Similique, eos reprehenderit. Blanditiis deserunt facilis commodi quidem autem eligendi ab, inventore atque obcaecati nobis repudiandae fuga unde quasi reprehenderit, vel adipisci quaerat praesentium nostrum doloremque. Dignissimos placeat reiciendis eligendi asperiores inventore, accusamus aliquid alias! Cum veniam voluptatem, labore, autem rem, voluptatum doloribus perferendis accusantium et saepe eum libero non quia esse tempora. Aspernatur possimus consectetur hic ullam. Autem cumque quos dolorem ea adipisci, inventore odio voluptatem commodi incidunt sapiente corrupti earum nobis sunt unde voluptate reprehenderit sed sit perferendis? A doloremque labore corrupti mollitia, ipsam accusamus iste non maxime odit quas ab, illo nobis voluptas? Error exercitationem eligendi, nam laborum eius quisquam iste soluta? Asperiores recusandae, magni fuga vero ipsa eos quisquam aliquam reiciendis ullam harum provident hic rerum sed! Voluptatem, pariatur aliquid alias delectus placeat nostrum cumque magnam consequuntur doloribus, vel dicta inventore modi voluptas praesentium? Voluptates fugit perferendis tempora officia vitae suscipit, quam eveniet, iusto sunt dolorem accusantium amet enim sed aliquid voluptate ducimus? Accusantium aperiam optio numquam rem aut repellendus voluptates eaque quasi reiciendis alias explicabo ullam hic unde, possimus voluptatibus quae vel, aspernatur, soluta harum totam sunt similique. Commodi culpa natus, exercitationem quidem magni officiis aliquid soluta ipsam? Soluta beatae corrupti debitis rerum, impedit laborum voluptate eaque quam eum expedita qui asperiores libero deleniti molestias rem quo facere doloribus tenetur odio provident quas voluptatem eos dolorum. Quae maiores nisi, laboriosam quos nesciunt iusto quis enim recusandae quod. Laboriosam, magnam libero ullam ea facilis esse minus eius ipsa vitae ex. Totam veritatis nam voluptates distinctio ex commodi fugiat aut animi vitae deserunt id temporibus vero libero ea, quisquam sit tempora expedita qui debitis? Repellat iure numquam voluptates nesciunt beatae fuga, quod voluptas ullam exercitationem dignissimos reprehenderit quibusdam ratione deleniti voluptatum nemo soluta quae, nobis dolorum. Ratione magni, laudantium consectetur quaerat officia corrupti sit dolore earum impedit provident vitae explicabo error beatae, mollitia repellendus aspernatur autem est. Magnam incidunt minima deserunt in rem ut quod nemo! Repudiandae recusandae illo officia nesciunt numquam modi vero quibusdam voluptatem, soluta rem eum obcaecati distinctio excepturi. Distinctio aperiam quibusdam vero laudantium facilis eveniet enim asperiores? Repellendus culpa quam aliquam minima saepe dolor nisi maiores dolores. Ad explicabo magnam illum facilis cupiditate amet ipsa beatae perferendis placeat dignissimos tenetur quod iste earum, officia ab rerum dicta deleniti rem officiis? Doloremque odio, ea aspernatur sapiente quas, praesentium quia ad vitae nesciunt adipisci hic cupiditate aperiam deserunt animi minima eligendi officia! Rem expedita iusto consequuntur asperiores neque? Est error eius, sint inventore quae doloribus veniam perspiciatis iure velit dolorem saepe, adipisci sequi ullam quod nihil voluptatem eveniet. Distinctio autem doloremque iste. A possimus mollitia perspiciatis at necessitatibus culpa incidunt recusandae, expedita cumque, quisquam iste maxime tempore, quaerat quasi eligendi in. Eos impedit eveniet adipisci fugit magni corporis ullam fuga distinctio. Repellat, dolorem! Perspiciatis maiores nobis praesentium laudantium cupiditate commodi aliquam, placeat dolores neque, doloribus nulla aperiam illo sapiente suscipit aliquid porro ipsum veniam?
            <div id='feed'>
                {feed.map(i => {
                    return <div key={i.id}>
                        <p>{i.author.name} a {i.movie.name} filmet nézte meg</p>
                    </div>
                })}
            </div>
        </Layout>
    )
}

export default Home;